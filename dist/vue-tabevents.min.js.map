{"version":3,"file":"vue-tabevents.min.js","sources":["../src/index.js"],"sourcesContent":["const vueTabEvents = {\n  install: function (Vue) {\n    Vue.prototype.$IsJsonString = function IsJsonString (str) {\n      try {\n        JSON.parse(str)\n      } catch (e) {\n        return false\n      }\n      return true\n    }\n\n    Vue.prototype.$tabEvent = {\n      emit: function emit (event, data) {\n        if (!data) {\n          localStorage.setItem('event', event)\n        }\n        if (data) {\n          if (typeof data !== 'string') localStorage.setItem('eventWithData', `${event}!@#$%${JSON.stringify(data)}`)\n          else localStorage.setItem('eventWithData', `${event}!@#$%${data}`)\n        }\n        localStorage.removeItem('event')\n        localStorage.removeItem('eventWithData')\n      },\n\n      on: function on (event, callback) {\n        function listner (e) {\n          if (e.newValue == null) return\n          else if (e.key == 'event') {\n            if (e.newValue === event) return callback()\n          } else if (e.key == 'eventWithData') {\n            const ev = e.newValue.split('!@#$%')\n            if (ev[0] === event) {\n              if (Vue.IsJsonString(ev[1])) return callback(JSON.parse(ev[1]))\n              else return callback(ev[1])\n            }\n          }\n        }\n\n        window.addEventListener('storage', listner)\n\n        window.addEventListener('offanEvent', r => {\n          if (r.detail.eventToOff === event) window.removeEventListener('storage', listner)\n        })\n      },\n\n      off: function off (event) {\n        const ev = new CustomEvent('offanEvent', { detail: { eventToOff: event } })\n        window.dispatchEvent(ev)\n      }\n    }\n  }\n}\n\nexport default vueTabEvents\n\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(vueTabEvents)\n}\n"],"names":["const","vueTabEvents","Vue","prototype","$IsJsonString","str","parse","e","$tabEvent","event","data","setItem","localStorage","JSON","stringify","removeItem","callback","listner","newValue","key","ev","split","IsJsonString","addEventListener","r","detail","eventToOff","window","removeEventListener","CustomEvent","dispatchEvent","use"],"mappings":";;;;;;wLAAAA,IAAMC,WACK,SAAUC,KACbC,UAAUC,cAAgB,SAAuBC,YAE5CC,MAAMD,GACX,MAAOE,UACA,SAEF,KAGLJ,UAAUK,gBACN,SAAeC,EAAOC,GACrBA,gBACUC,QAAQ,QAASF,GAE5BC,IACkB,iBAATA,EAAmBE,aAAaD,QAAQ,gBAAoBF,UAAaI,KAAKC,UAAUJ,IAC9FE,aAAaD,QAAQ,gBAAoBF,UAAaC,iBAEhDK,WAAW,sBACXA,WAAW,qBAGtB,SAAaN,EAAOO,YACbC,EAASV,MACE,MAAdA,EAAEW,SACD,GAAa,SAATX,EAAEY,QACLZ,EAAEW,WAAaT,EAAO,OAAOO,SAC5B,GAAa,iBAATT,EAAEY,IAAwB,KAC7BC,EAAKb,EAAEW,SAASG,MAAM,YACxBD,EAAG,KAAOX,SACRP,EAAIoB,aAAaF,EAAG,IAAYJ,EAASH,KAAKP,MAAMc,EAAG,KAC/CJ,EAASI,EAAG,YAKvBG,iBAAiB,UAAWN,UAE5BM,iBAAiB,sBAAcC,GAChCA,EAAEC,OAAOC,aAAejB,GAAOkB,OAAOC,oBAAoB,UAAWX,UAIxE,SAAcR,OACXW,EAAK,IAAIS,YAAY,cAAgBJ,QAAUC,WAAYjB,YAC1DqB,cAAcV,aAQP,oBAAXO,QAA0BA,OAAOzB,YACnCA,IAAI6B,IAAI9B"}